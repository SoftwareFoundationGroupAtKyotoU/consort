

\DeclareMathOperator{\SEQ}{;}
\DeclareMathOperator{\smodels}{\approx}
\newcommand\expr{e}
\newcommand\intconst{n}
\newcommand\SKIP{\mathbf{skip}}
\DeclareMathOperator{\BOP}{\mathit{bop}}
\DeclareMathOperator{\LET}{\mathbf{let}}
\DeclareMathOperator{\IN}{\mathbf{in}}
\DeclareMathOperator{\WRITE}{:=}
\newcommand{\DEREF}{*}
\newcommand{\NULL}{\mathbf{null}}
\DeclareMathOperator\IFZERO{\mathbf{ifz}}
\DeclareMathOperator\THEN{\mathbf{then}}
\DeclareMathOperator\ELSE{\mathbf{else}}
\DeclareMathOperator{\COL}{:}
\newcommand\ASSERT{\mathbf{assert}}
\DeclareMathOperator{\RETURN}{\mathbf{return}}
\newcommand\HOLE{[]}
\newcommand\UNIT{\mathbf{()}}
\newcommand\wf{\mathit{WF}}
\newcommand{\consort}{\textsc{ConSORT}\xspace}
\let\name\consort
\newcommand{\RETVAR}{\rho}
\newcommand{\DOM}{\mathit{dom}}
\newcommand{\CVar}{\textbf{CVar}}

\let\imp\lstinline

\newcommand\seq[1]{\overrightarrow{#1}}

\newcommand\decl{d}
\newcommand\prog{P}

\newcommand\pp{\ell}
\newcommand{\pps}{\beta}

\newcommand\tuple[1]{\left\langle{#1}\right\rangle}

\newcommand\stmt{s}

\newcommand\typ{\tau}

\newcommand\TINT{\mathbf{int}}
\DeclareMathOperator\TREF{\mathbf{ref}}

\newcommand\ownership{r}

\newcommand\RAT{\mathbb{Q}}

\newcommand\set[1]{\left\{{#1}\right\}}

\DeclareMathOperator{\p}{\vdash}
\DeclareMathOperator{\ctxtp}{\vdash_{E}}
\DeclareMathOperator{\Cp}{\vdash_{C}}

\DeclareMathOperator{\produces}{\Rightarrow}
\DeclareMathOperator{\MKREF}{\mathbf{mkref}}

\newcommand\tenv{\Gamma}

\newcommand\funenv{\Theta}
\newcommand\funtyp{\sigma}
\DeclareMathOperator{\diff}{\backslash}

\newcommand{\denote}[1]{\llbracket#1\rrbracket}

\DeclareMathOperator{\ra}{\rightarrow}

\DeclareMathOperator{\subt}{\le}

\DeclareMathOperator{\addt}{+}

\newcommand{\fv}{\mathbf{FV}}

\newcommand{\rulesp}{\vspace{0.1cm}}

\newcommand\fcv{\mathbf{FCV}}

\newcommand\ALIAS{\mathbf{alias}}

\newcommand\sem[1]{\left\llbracket{#1}\right\rrbracket}

\newcommand\TRUE{\top}

\newcommand\TUNIT{\mathbf{unit}}

\newif\ifdraftComments
\draftCommentstrue
\def\mkDraftFn#1#2{%
  \expandafter\def\csname #1\endcsname##1{\ifdraftComments\textcolor{#2}{[#1: ##1]}\marginpar[$\longrightarrow$]{$\longleftarrow$}\fi}%
}
\mkDraftFn{JT}{blue}
\mkDraftFn{AI}{red}
\mkDraftFn{KS}{purple}
\mkDraftFn{NK}{cyan}
\mkDraftFn{RS}{teal}
\usepackage{xspace}
\makeatletter
\def\needcite@with[#1]{\ifdraftComments\textcolor{blue}{[citation needed #1]}\else\empty\fi\xspace}
\def\needcite@bare{\ifdraftComments\textcolor{blue}{[citation needed]}\else\empty\fi\xspace}
\def\needcite{\@ifnextchar[{\needcite@with}{\needcite@bare}}
\makeatother

\lstdefinelanguage{Imp}{
  keywords=[0]{ifz,then,else,alias,assert,mkref,let,in,null,ifnull,return},
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/}
}
\definecolor{comment-green}{rgb}{0,0.6,0}
\lstset{
  basicstyle=\ttfamily,
  language=Imp,
  columns=flexible,
  keywordstyle=[0]{\normalfont\bfseries},
  commentstyle=\color{comment-green},
  mathescape,
}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main.tex"
%%% End:
